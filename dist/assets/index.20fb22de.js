var e=Object.assign;import{u as n}from"./index.68507fe8.js";import{d as t,m as o,f as i,B as a,o as s,c as m,C as d,g as l}from"./vendor.e4e3d64f.js";async function r(n,t,o){if(!o)return;let i="";const a=n=>new Promise((a=>{i&&(null==o||o.classList.remove(i));const s={animationIterationCount:n.infinite?"infinite":1,animationDelay:`${n.delay}s`,animationFillMode:n.mode};i=`animate__${n.value}`,null==o||o.classList.add(i,"animate__animated"),t.commit("updateCurrentStyle",e({},s));const m=()=>{null==o||o.removeEventListener("animationend",m),null==o||o.removeEventListener("animationcancel",m),a("end")};null==o||o.addEventListener("animationend",m),null==o||o.addEventListener("animationcancel",m)}));for(const e of n.animates)await a(e)}var c=t({name:"componentBox",props:{componentsConfig:{type:Object,required:!0,default:()=>({})},index:{type:Number,default:0}},emits:["onComponent"],setup(e,t){const s=o(null),m=n(),d=i((()=>m.getters.getCurrentComponent));a((()=>{const n=s.value.getBoundingClientRect(),t=i((()=>{m.getters.getCanvas.style.width})),o=n.height?n.height+"px":"50px",a=n.width?n.width+"px":t;m.commit("updateStyle",{index:e.index,style:{height:o,width:a}})}));const l=i((()=>d.value&&d.value.id===e.componentsConfig.id));return{component:s,currentComponent:d,activeComponent:n=>{t.emit("onComponent",e.index),n.stopPropagation()},isActive:l}}});const p=l("data-v-3f953de2")(((e,n,t,o,i,a)=>(s(),m("div",{class:["item",{activeComponent:e.isActive}],style:e.componentsConfig.style,ref:"component",onClick:n[1]||(n[1]=(...n)=>e.activeComponent&&e.activeComponent(...n))},[d(e.$slots,"default")],6))));c.render=p,c.__scopeId="data-v-3f953de2";export{c as _,r};

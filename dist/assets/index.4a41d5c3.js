import{u as e}from"./index.75413458.js";import{d as t,b as n,f as o,m as i,o as a,c as s,S as l,H as d}from"./vendor.5ed3c467.js";function m(e){let t="";for(let n in e)t+=`${n.replace(/[A-Z]+/g,(e=>`-${e.toLowerCase()}`))}:${e[n]};`;return t}async function c(e,t,n){if(!n)return;let o="";const i=t=>new Promise((i=>{o&&(null==n||n.classList.remove(o));const a={animationIterationCount:t.infinite?"infinite":1,animationDelay:`${t.delay}s`,animationFillMode:t.mode};o=`animate__${t.value}`,null==n||n.classList.add(o,"animate__animated"),n.style.cssText=m(a)+m(e.style);const s=()=>{null==n||n.removeEventListener("animationend",s),null==n||n.removeEventListener("animationcancel",s),n.style.cssText=m(e.style),i("end")};null==n||n.addEventListener("animationend",s),null==n||n.addEventListener("animationcancel",s)}));for(const a of e.animates)await i(a)}var r=t({name:"componentBox",props:{componentsConfig:{type:Object,required:!0,default:()=>({})},index:{type:Number,default:0}},emits:["onComponent"],setup(t,a){const s=n(null),l=e(),d=o((()=>l.getters.getCurrentComponent));i((()=>{const e=s.value.getBoundingClientRect(),n=o((()=>{l.getters.getCanvas.style.width})),i=e.height?e.height+"px":"50px",a=e.width?e.width+"px":n;l.commit("updateStyle",{index:t.index,style:{height:i,width:a}})}));const m=o((()=>d.value&&d.value.id===t.componentsConfig.id));return{component:s,currentComponent:d,activeComponent:e=>{a.emit("onComponent",t.index),e.stopPropagation()},isActive:m}}});const p=d("data-v-ad60ede0")(((e,t,n,o,i,d)=>(a(),s("div",{class:["item",{activeComponent:e.isActive}],style:e.componentsConfig.style,ref:"component",onClick:t[1]||(t[1]=(...t)=>e.activeComponent&&e.activeComponent(...t))},[l(e.$slots,"default")],6))));r.render=p,r.__scopeId="data-v-ad60ede0";export{r as _,c as r};

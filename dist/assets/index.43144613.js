var e=Object.assign;import{u as t,g as l}from"./index.68507fe8.js";import{d as n,p as a,h as o,o as r,c as s,F as i,k as u,t as p,g as d,f as c,r as m,l as v,m as f,n as g,q as h,s as b,u as y,v as C,x as I,y as x,z as w}from"./vendor.e4e3d64f.js";import{r as V,_ as k}from"./index.20fb22de.js";var O=n({name:"tz-left",props:{componentConfig:{type:Array,required:!0,default:()=>[]}},setup:e=>({handleDrag:(t,l)=>{let n=e.componentConfig&&e.componentConfig[l];n&&(n.style.top=t.offsetY),n&&(n.style.left=t.offsetX),t.dataTransfer.setData("componentType",JSON.stringify(n)),t.target.style.opacity="0.5"},handleDragEnd:e=>{e.target.style.opacity="1"}})});const _=d("data-v-628b13f5");a("data-v-628b13f5");const z={class:"left"};o();const D=_(((e,t,l,n,a,o)=>(r(),s("div",z,[(r(!0),s(i,null,u(e.componentConfig,((l,n)=>(r(),s("div",{key:n,class:"item",onDragstart:t=>e.handleDrag(t,n),onDragend:t[1]||(t[1]=(...t)=>e.handleDragEnd&&e.handleDragEnd(...t)),draggable:"true"},p(l.title),41,["onDragstart"])))),128))]))));O.render=D,O.__scopeId="data-v-628b13f5";const U={left:{value:"X 坐标"},top:{value:"Y 坐标"},width:{value:"宽"},height:{value:"高"},lineHeight:{value:"行高"},fixed:{value:"固定",type:"switch"},backgroundColor:{value:"背景色",type:"color"},color:{value:"颜色",type:"color"},text:{value:"文本",type:"textarea"},type:{value:"类型",type:"select"},disabled:{value:"是否禁用",type:"switch"},url:{value:"链接"},plain:{value:"是否朴素",type:"switch"},title:{value:"标题"},leftText:{value:"左侧文字"},rightText:{value:"右侧文字"},border:{value:"边框",type:"switch"},leftArrow:{value:"左侧箭头",type:"switch"},zIndex:{value:"z-index",type:"number"}},L={"van-button":{type:{value:"类型",type:"select",options:["primary","success","warning","danger"]}},tzText:{align:{value:"对齐方式",type:"select",options:["left","right","center"]}}};var S=n({name:"rightStyle",setup(){const l=t();return{currentConfig:c((()=>l.getters.getCurrentComponent?l.getters.getCurrentComponent:l.getters.getCanvas)),getConfigMap:c((()=>{var t;const n=null==(t=l.getters.getCurrentComponent)?void 0:t.component;return e(e({},U),L[n])}))}}});const M=d("data-v-57002540"),E=M(((e,t,l,n,a,o)=>{const p=m("el-color-picker"),d=m("el-input"),c=m("el-form-item"),f=m("el-switch"),g=m("el-input-number"),h=m("el-option"),b=m("el-select"),y=m("el-form");return r(),s(y,{size:"mini","label-position":"right","label-width":"76px"},{default:M((()=>[(r(!0),s(i,null,u(Object.keys(e.currentConfig.style),(t=>(r(),s(i,null,[e.getConfigMap[t]?(r(),s(c,{key:t,label:`${e.getConfigMap[t].value}:`},{default:M((()=>["color"===e.getConfigMap[t].type?(r(),s(p,{key:0,modelValue:e.currentConfig.style[t],"onUpdate:modelValue":l=>e.currentConfig.style[t]=l},null,8,["modelValue","onUpdate:modelValue"])):(r(),s(d,{key:1,modelValue:e.currentConfig.style[t],"onUpdate:modelValue":l=>e.currentConfig.style[t]=l,modelModifiers:{lazy:!0,trim:!0}},null,8,["modelValue","onUpdate:modelValue"]))])),_:2},1032,["label"])):v("",!0)],64)))),256)),(r(!0),s(i,null,u(Object.keys(e.currentConfig.props),(t=>(r(),s(i,null,[e.getConfigMap[t]?(r(),s(c,{key:t,label:`${e.getConfigMap[t].value}:`},{default:M((()=>["color"===e.getConfigMap[t].type?(r(),s(p,{key:0,modelValue:e.currentConfig.props[t],"onUpdate:modelValue":l=>e.currentConfig.props[t]=l},null,8,["modelValue","onUpdate:modelValue"])):"switch"===e.getConfigMap[t].type?(r(),s(f,{key:1,modelValue:e.currentConfig.props[t],"onUpdate:modelValue":l=>e.currentConfig.props[t]=l},null,8,["modelValue","onUpdate:modelValue"])):"number"===e.getConfigMap[t].type?(r(),s(g,{key:2,modelValue:e.currentConfig.props[t],"onUpdate:modelValue":l=>e.currentConfig.props[t]=l,min:0,max:999,label:"描述文字"},null,8,["modelValue","onUpdate:modelValue"])):"select"===e.getConfigMap[t].type?(r(),s(b,{key:3,modelValue:e.currentConfig.props[t],"onUpdate:modelValue":l=>e.currentConfig.props[t]=l,placeholder:"请选择"},{default:M((()=>[(r(!0),s(i,null,u(e.getConfigMap[t].options,(e=>(r(),s(h,{key:e,value:e},null,8,["value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue"])):(r(),s(d,{key:4,modelValue:e.currentConfig.props[t],"onUpdate:modelValue":l=>e.currentConfig.props[t]=l,modelModifiers:{lazy:!0,trim:!0},type:e.getConfigMap[t].type||"text"},null,8,["modelValue","onUpdate:modelValue","type"]))])),_:2},1032,["label"])):v("",!0)],64)))),256))])),_:1})}));S.render=E,S.__scopeId="data-v-57002540";const R={in:{label:"进入",value:[]},out:{label:"退出",value:[]},other:{label:"其他",value:[]}},B=[{label:"强调",value:"Attention Seekers",children:[{label:"旋转",value:"justRotate"},{label:"弹跳",value:"bounce"},{label:"闪烁",value:"flash"},{label:"跳动",value:"pulse"},{label:"抖动",value:"shake"},{label:"摇摆",value:"swing"},{label:"橡皮圈",value:"rubberBand"},{label:"果冻",value:"jello"},{label:"晃动",value:"tada"},{label:"抖动",value:"wobble"}]},{label:"弹跳进入",value:"Bouncing Entrances",children:[{label:"弹跳进入",value:"bounceIn"},{label:"向下弹跳进入",value:"bounceInDown"},{label:"向右弹跳进入",value:"bounceInLeft"},{label:"向左弹跳进入",value:"bounceInRight"},{label:"向上弹跳进入",value:"bounceInUp"}]},{label:"弹跳退出",value:"Bouncing Exits",children:[{label:"弹跳退出",value:"bounceOut"},{label:"向下弹跳退出",value:"bounceOutDown"},{label:"向左弹跳退出",value:"bounceOutLeft"},{label:"向右弹跳退出",value:"bounceOutRight"},{label:"向上弹跳退出",value:"bounceOutUp"}]},{label:"渐显进入",value:"Fading Entrances",children:[{label:"渐显进入",value:"fadeIn"},{label:"向下渐显进入",value:"fadeInDown"},{label:"由屏幕外向下渐显进入",value:"fadeInDownBig"},{label:"向右显进入",value:"fadeInLeft"},{label:"由屏幕外向右渐显进入",value:"fadeInLeftBig"},{label:"向左渐显进入",value:"fadeInRight"},{label:"由屏幕外向左渐显进入",value:"fadeInRightBig"},{label:"向上渐显进入",value:"fadeInUp"},{label:"由屏幕外向上渐显进入",value:"fadeInUpBig"}]},{label:"渐隐退出",value:"Fading Exits",children:[{label:"渐隐退出",value:"fadeOut"},{label:"向下渐隐退出",value:"fadeOutDown"},{label:"向下渐隐退出屏幕外",value:"fadeOutDownBig"},{label:"向左渐隐退出",value:"fadeOutLeft"},{label:"向左渐隐退出屏幕外",value:"fadeOutLeftBig"},{label:"向右渐隐退出",value:"fadeOutRight"},{label:"向右渐隐退出屏幕外",value:"fadeOutRightBig"},{label:"向上渐隐退出",value:"fadeOutUp"},{label:"向上渐隐退出屏幕外",value:"fadeOutUpBig"}]},{label:"翻动",value:"Flippers",children:[{label:"翻动",value:"flip"},{label:"纵向翻动",value:"flipInX"},{label:"横向翻动",value:"flipInY"},{label:"立体纵向翻动",value:"flipOutX"},{label:"立体横向翻动",value:"flipOutY"}]},{label:"加速进出",value:"Lightspeed",children:[{label:"加速进入",value:"lightSpeedIn"},{label:"加速退出",value:"lightSpeedOut"}]},{label:"旋转渐显",value:"Rotating Entrances",children:[{label:"旋转渐显",value:"rotateIn"},{label:"左下角旋转渐显",value:"rotateInDownLeft"},{label:"旋转渐显",value:"右下角rotateInDownRight"},{label:"左上角旋转渐显",value:"rotateInUpLeft"},{label:"右上角旋转渐显",value:"rotateInUpRight"}]},{label:"旋转渐隐",value:"Rotating Exits",children:[{label:"旋转渐隐",value:"rotateOut"},{label:"左下角旋转渐隐",value:"rotateOutDownLeft"},{label:"左下角旋转渐隐",value:"rotateOutDownRight"},{label:"左上角旋转渐隐",value:"rotateOutUpLeft"},{label:"右上角旋转渐隐",value:"rotateOutUpRight"}]},{label:"平移进入",value:"Sliding Entrances",children:[{label:"向上平移进入",value:"slideInUp"},{label:"向下平移进入",value:"slideInDown"},{label:"向右平移进入",value:"slideInLeft"},{label:"向左平移进入",value:"slideInRight"}]},{label:"平移退出",value:"Sliding Exits",children:[{label:"向上平移退出",value:"slideOutUp"},{label:"向下平移退出",value:"slideOutDown"},{label:"向左平移退出",value:"slideOutLeft"},{label:"向右平移退出",value:"slideOutRight"}]},{label:"放大进入",value:"Zoom Entrances",children:[{label:"放大进入",value:"zoomIn"},{label:"向下放大进入",value:"zoomInDown"},{label:"向右放大进入",value:"zoomInLeft"},{label:"向左放大进入",value:"zoomInRight"},{label:"向上放大进入",value:"zoomInUp"}]},{label:"缩小退出",value:"Zoom Exits",children:[{label:"缩小退出",value:"zoomOut"},{label:"向下缩小退出",value:"zoomOutDown"},{label:"向左缩小退出",value:"zoomOutLeft"},{label:"向右缩小退出",value:"zoomOutRight"},{label:"向上缩小退出",value:"zoomOutUp"}]},{label:"特殊效果",value:"Specials",children:[{label:"悬挂",value:"hinge"},{label:"滚动进入",value:"rollIn"},{label:"滚动退出",value:"rollOut"}]}],A=/进|渐显/,P=/退|渐隐/,T={delay:0,mode:"both",infinite:!1};for(let ye=0;ye<B.length;ye++){B[ye].children.forEach((t=>{A.test(t.label)?R.in.value.push(e(e({},t),T)):P.test(t.label)?R.out.value.push(e(e({},t),T)):R.other.value.push(e(e({},t),T))}))}const j=["none","forwards","backwards","both"];var X=n({name:"rightAnimate",setup(){const e=t(),l=f(!1),n=c((()=>e.getters.getCurrentComponent));return{activePane:"in",currentComponent:n,onSelectDialog:()=>{l.value=!0},animationTabs:R,onAnimation:(e,t)=>{e.target&&(e.target.classList.add(`animate__${t.value}`),setInterval((()=>{e.target.classList.remove(`animate__${t.value}`)}),3e3))},onAddAnimation:t=>{e.commit("addCurrentAnimation",t),l.value=!1},dialogVisible:l,onRunAnimate:()=>{V(n.value,e,document.querySelector(".activeComponent"))},deleteAnimate:t=>{e.commit("delCurrentAnimation",t)},mode:j}}});const Y={class:"animates"},$=b("添加动画"),W=b("运行动画 "),q=g("i",{class:"el-icon-video-play"},null,-1),F=b("s ");X.render=function(e,t,l,n,a,o){const d=m("el-button"),c=m("el-button-group"),f=m("el-input-number"),y=m("el-tooltip"),C=m("el-form-item"),I=m("el-option"),x=m("el-select"),w=m("el-switch"),V=m("el-form"),k=m("el-collapse-item"),O=m("el-collapse"),_=m("el-tab-pane"),z=m("el-tabs"),D=m("el-dialog");return r(),s(i,null,[g("div",Y,[g(c,{style:{margin:"0 auto"}},{default:h((()=>[g(d,{type:"primary",size:"small",icon:"el-icon-plus",onClick:e.onSelectDialog},{default:h((()=>[$])),_:1},8,["onClick"]),g(d,{type:"primary",size:"small",onClick:e.onRunAnimate},{default:h((()=>[W,q])),_:1},8,["onClick"])])),_:1}),e.currentComponent.animates.length?(r(),s(O,{key:0,class:"lists",accordion:""},{default:h((()=>[(r(!0),s(i,null,u(e.currentComponent.animates,((t,l)=>(r(),s(k,{name:t.id},{title:h((()=>[b(p(t.label),1),g("i",{class:"el-icon-delete delete",onClick:t=>e.deleteAnimate(l)},null,8,["onClick"])])),default:h((()=>[g(V,{size:"mini","label-width":"96px"},{default:h((()=>[g(C,{label:"开始时间(秒):"},{default:h((()=>[g(y,{class:"item",effect:"light",content:"此时间是基于上个动画结束时间算起",placement:"top"},{default:h((()=>[g(f,{modelValue:t.delay,"onUpdate:modelValue":e=>t.delay=e,min:0,label:"开始时间"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1024),g(C,{label:"起始样式:"},{default:h((()=>[g(x,{modelValue:t.mode,"onUpdate:modelValue":e=>t.mode=e,placeholder:"起始样式"},{default:h((()=>[(r(!0),s(i,null,u(e.mode,(e=>(r(),s(I,{label:e,value:e},null,8,["label","value"])))),256)),F])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:2},1024),g(C,{label:"无限循环:"},{default:h((()=>[g(w,{modelValue:t.infinite,"onUpdate:modelValue":e=>t.infinite=e},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1024)])),_:2},1032,["name"])))),256))])),_:1})):v("",!0)]),g(D,{"append-to-body":"",modelValue:e.dialogVisible,"onUpdate:modelValue":t[2]||(t[2]=t=>e.dialogVisible=t),width:"341px","show-close":!1,"custom-class":"animateSelect",top:"0"},{default:h((()=>[g(z,{modelValue:e.activePane,"onUpdate:modelValue":t[1]||(t[1]=t=>e.activePane=t)},{default:h((()=>[(r(!0),s(i,null,u(e.animationTabs,((t,l)=>(r(),s(_,{label:t.label,name:l,key:l,class:"animate-box"},{default:h((()=>[(r(!0),s(i,null,u(t.value,(t=>(r(),s("div",{key:t.value,class:"animate animate__animated",onMouseenter:l=>e.onAnimation(l,t),onClick:l=>e.onAddAnimation(t)},p(t.label),41,["onMouseenter","onClick"])))),128))])),_:2},1032,["label","name"])))),128))])),_:1},8,["modelValue"])])),_:1},8,["modelValue"])],64)};var N=n({name:"tzRight",components:{rightStyle:S,rightAnimate:X},setup(){const e=f("sx"),l=t();return{currentComponent:c((()=>l.getters.getCurrentComponent)),activePane:e}}});const H=d("data-v-e184c0c4");a("data-v-e184c0c4");const J={class:"right"};o();const Z=H(((e,t,l,n,a,o)=>{const i=m("right-style"),u=m("el-tab-pane"),p=m("right-animate"),d=m("el-tabs");return r(),s("div",J,[g(d,{modelValue:e.activePane,"onUpdate:modelValue":t[1]||(t[1]=t=>e.activePane=t)},{default:H((()=>[g(u,{label:"属性",name:"sx"},{default:H((()=>[g(i)])),_:1}),e.currentComponent?(r(),s(u,{key:0,label:"动画",name:"dh"},{default:H((()=>[g(p)])),_:1})):v("",!0)])),_:1},8,["modelValue"])])}));var K,G;N.render=Z,N.__scopeId="data-v-e184c0c4",(G=K||(K={})).lt="lt",G.rt="rt",G.lb="lt",G.rb="rt",G.l="l",G.t="t",G.r="r",G.b="b";const Q={lt:{left:"-4px",top:"-4px",cursor:"nw-resize"},rt:{right:"-4px",top:"-4px",cursor:"ne-resize"},lb:{left:"-4px",bottom:"-4px",cursor:"sw-resize"},rb:{right:"-4px",bottom:"-4px",cursor:"se-resize"},l:{left:"-4px",top:"50%",transform:"translateY(-50%)",cursor:"w-resize"},t:{left:"50%",transform:"translateX(-50%)",top:"-4px",cursor:"n-resize"},r:{right:"-4px",top:"50%",transform:"translateY(-50%)",cursor:"e-resize"},b:{left:"50%",transform:"translateX(-50%)",bottom:"-4px",cursor:"s-resize"}},ee={lt(t,l,n,a){const o=t.y-l.y,r=t.x-l.x,s=parseInt(n.left)+parseInt(n.width),i=parseInt(n.top)+parseInt(n.height);let u=parseInt(n.left)-r,p=parseInt(n.top)-o,d=parseInt(n.width)+r,c=parseInt(n.height)+o;return d=d<2?2:d>s?s:d,c=c<2?2:c>i?i:c,u=u<0?0:u>s-2?s-2:u,p=p<0?0:p>i-2?i-2:p,e(e({},n),{left:u+"px",top:p+"px",height:c+"px",width:d+"px"})},rt(t,l,n,a){const o=t.y-l.y,r=l.x-t.x,s=parseInt(a.width)-parseInt(n.left),i=parseInt(n.top)+parseInt(n.height);let u=parseInt(n.top)-o,p=parseInt(n.width)+r,d=parseInt(n.height)+o;return p=p<2?2:p>s?s:p,d=d<2?2:d>i?i:d,u=u<0?0:u>i-2?i-2:u,e(e({},n),{top:u+"px",height:d+"px",width:p+"px"})},lb(t,l,n,a){const o=l.y-t.y,r=t.x-l.x,s=parseInt(n.left)+parseInt(n.width),i=parseInt(a.height)-parseInt(n.top);let u=parseInt(n.left)-r,p=parseInt(n.width)+r,d=parseInt(n.height)+o;return p=p<2?2:p>s?s:p,d=d<2?2:d>i?i:d,u=u<0?0:u>s-2?s-2:u,e(e({},n),{left:u+"px",height:d+"px",width:p+"px"})},rb(t,l,n,a){const o=l.y-t.y,r=l.x-t.x,s=parseInt(a.width)-parseInt(n.left),i=parseInt(a.height)-parseInt(n.top);let u=parseInt(n.width)+r,p=parseInt(n.height)+o;return u=u<2?2:u>s?s:u,p=p<2?2:p>i?i:p,e(e({},n),{height:p+"px",width:u+"px"})},l(t,l,n,a){const o=t.x-l.x,r=parseInt(n.left)+parseInt(n.width);let s=parseInt(n.left)-o,i=parseInt(n.width)+o;return i=i<2?2:i>r?r:i,s=s<0?0:s>r-2?r-2:s,e(e({},n),{left:s+"px",width:i+"px"})},t(t,l,n,a){const o=t.y-l.y,r=parseInt(n.top)+parseInt(n.height);let s=parseInt(n.top)-o,i=parseInt(n.height)+o;return i=i<2?2:i>r?r:i,s=s<0?0:s>r-2?r-2:s,e(e({},n),{top:s+"px",height:i+"px"})},r(t,l,n,a){const o=l.x-t.x;let r=parseInt(n.width)+o;const s=parseInt(a.width)-parseInt(n.left);return r=r<2?2:r>s?s:r,e(e({},n),{width:r+"px"})},b(t,l,n,a){const o=l.y-t.y;let r=parseInt(n.height)+o;const s=parseInt(a.height)-parseInt(n.top);return r=r<2?2:r>s?s:r,e(e({},n),{height:r+"px"})}};function te(){const l=t();return(t,n)=>{const a=c((()=>l.getters.getCanvas)),o=c((()=>l.getters.getCurrentComponent)).value,r={x:n.clientX,y:n.clientY},s=e({},o.style);s.width.endsWith("%")&&(s.width=parseInt(a.value.style.width)*parseInt(s.width)/100+"px"),s.height.endsWith("%")&&(s.height=parseInt(a.value.style.height)*parseInt(s.height)/100+"px");const i=e=>{e.stopPropagation();const n={x:e.clientX,y:e.clientY},o=function(e,t,l,n,a){return ee[e](t,l,n,a)}(t,r,n,s,a.value.style);o.width.endsWith===a.value.style.width&&(o.width="100%"),o.height===a.value.style.height&&(o.height="100%"),l.commit("updateCurrentStyle",o)},u=e=>{e.stopPropagation(),e.preventDefault(),document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",u)};document.addEventListener("mousemove",i),document.addEventListener("mouseup",u)}}const le=e=>{const t=parseInt(e.style.left),l=parseInt(e.style.top);return{left:t,top:l,right:t+parseInt(e.style.width),bottom:l+parseInt(e.style.height),xcenter:l+parseInt(e.style.height)/2,ycenter:t+parseInt(e.style.width)/2}},ne=(e,t)=>Math.abs(e-t)<=3;var ae=n({name:"dragShape",setup(){const l=t(),n=f(null),a=f(null),o=c((()=>l.getters.getCurrentComponent)),r=te();return{xline:n,yline:a,pointStyle:Q,currentComponentConfig:o,onPointMouseDown:r,onClickPoint:()=>{},onShapeMove:t=>{const o=function(t,l){const n=c((()=>l.getters.getCanvas)).value.style,a=c((()=>l.getters.getCurrentComponent)).value,o=e({},a.style),r=t.clientX,s=t.clientY;return function(t){t.stopPropagation();const a=t.clientX,i=t.clientY,u=a-r,p=i-s,d=parseInt(o.width),c=parseInt(o.height),m=parseInt(n.width)-d/2,v=parseInt(n.height)-c/2;let f=parseInt(o.left)+u,g=parseInt(o.top)+p;f=-f>d/2?-d/2:f>m?m:f,g=-g>c/2?-c/2:g>v?v:g;const h=e(e({},o),{left:f+"px",top:g+"px"});l.commit("updateCurrentStyle",h)}}(t,l),r=(e=>{const t=c((()=>e.getters.getComponents)).value,l=c((()=>e.getters.getCurrentComponent)).value,n=[],a={left:[0,parseInt(e.getters.getCanvas.style.width)],top:[0,parseInt(e.getters.getCanvas.style.height)]};return t.forEach((e=>{e!==l&&n.push(le(e))})),n.forEach((e=>{a.left.push(e.left,e.ycenter,e.right),a.top.push(e.top,e.xcenter,e.bottom)})),(t,n)=>{const o=le(l),r={},s={left:[o.left,o.ycenter,o.right],top:[o.top,o.xcenter,o.bottom],left2line:[0,parseInt(l.style.width)/2,parseInt(l.style.width)],top2line:[0,parseInt(l.style.height)/2,parseInt(l.style.height)]};for(var i=0;i<s.left.length;i++){const e=s.left[i];if(r.left=a.left.find((t=>ne(e,t))),void 0!==r.left){r.leftLine=r.left,r.left-=s.left2line?s.left2line[i]:0;break}}for(i=0;i<s.top.length;i++){const e=s.top[i];if(r.top=a.top.find((t=>ne(e,t))),void 0!==r.top){r.topLine=r.top,r.top-=s.top2line?s.top2line[i]:0;break}}n&&t&&(n.style.display="none",t.style.display="none",void 0!==r.left&&(n.style.display="block",n.style.left=r.leftLine+"px",e.commit("updateCurrentStyle",{left:r.left+"px"})),void 0!==r.top&&(t.style.display="block",t.style.top=r.topLine+"px",e.commit("updateCurrentStyle",{top:r.top+"px"})))}})(l),s=e=>{o(e),r(n.value,a.value)},i=()=>{const e=n.value,t=a.value;e&&(e.style.display="none"),t&&(t.style.display="none"),document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",i)};document.addEventListener("mousemove",s),document.addEventListener("mouseup",i)}}}});const oe=d("data-v-0a6f1c7f");a("data-v-0a6f1c7f");const re={class:"line"},se={class:"xline",ref:"xline"},ie={class:"yline",ref:"yline"};o();const ue=oe(((e,t,l,n,a,o)=>(r(),s(i,null,[g("div",re,[g("div",se,null,512),g("div",ie,null,512)]),g("div",{class:"dragWrap",style:e.currentComponentConfig.style,onMousedown:t[2]||(t[2]=y(((...t)=>e.onShapeMove&&e.onShapeMove(...t)),["stop","prevent"])),onClick:t[3]||(t[3]=y((e=>e),["stop","prevent"]))},[(r(!0),s(i,null,u(Object.keys(e.pointStyle),(l=>(r(),s("div",{class:l,style:e.pointStyle[l],onMousedown:y((t=>e.onPointMouseDown(l,t)),["stop","prevent"]),onClick:t[1]||(t[1]=y(((...t)=>e.onClickPoint&&e.onClickPoint(...t)),["stop","prevent"]))},null,46,["onMousedown"])))),256))],36)],64))));ae.render=ue,ae.__scopeId="data-v-0a6f1c7f";var pe=n({name:"tzContent",components:{componentBox:k,dragShape:ae},setup(){const e=t(),n=c((()=>e.getters.getComponents)),a=c((()=>e.getters.getCurrentComponent));return{canvasStyle:c((()=>e.getters.getCanvas.style)),components:n,handleDrop:t=>{t.preventDefault();const n=JSON.parse(t.dataTransfer.getData("componentType"));n.style.top=t.offsetY-n.style.top+"px",n.style.left=t.offsetX-n.style.left+"px",n.id=l(),e.commit("addComponents",n)},handleDragOver:e=>{e.preventDefault()},onComponent:t=>{"content"!==t&&n?e.commit("addCurrentComponent",n.value[t]):e.commit("addCurrentComponent",null)},deleteComponent:()=>{e.commit("deleteCurrentComponent")},currentComponent:a}}});const de=d("data-v-7d1d79d5");a("data-v-7d1d79d5");const ce={class:"content"};o();const me=de(((e,t,l,n,a,o)=>{const p=m("component-box"),d=m("drag-shape");return r(),s("div",ce,[g("div",{class:"canvas",onDrop:t[1]||(t[1]=(...t)=>e.handleDrop&&e.handleDrop(...t)),onDragover:t[2]||(t[2]=(...t)=>e.handleDragOver&&e.handleDragOver(...t)),onClick:t[3]||(t[3]=y((t=>e.onComponent("content")),["stop"])),style:e.canvasStyle,tabIndex:"0",onKeyup:t[4]||(t[4]=I(((...t)=>e.deleteComponent&&e.deleteComponent(...t)),["delete"]))},[(r(!0),s(i,null,u(e.components,((t,l)=>(r(),s(p,{key:t.id,"components-config":t,index:l,onOnComponent:e.onComponent},{default:de((()=>[(r(),s(C(t.component),t.props,null,16))])),_:2},1032,["components-config","index","onOnComponent"])))),128)),e.currentComponent?(r(),s(d,{key:0})):v("",!0)],36)])}));pe.render=me,pe.__scopeId="data-v-7d1d79d5";const ve={tzBox:{title:"矩形",style:{width:"100px",height:"100px"}},tzButton:{title:"按钮"},tzText:{title:"文本"},VanButton:{title:"vant-按钮",props:{text:"按钮",block:!0}},VanNavBar:{title:"nav导航栏",style:{width:"100%"},props:{title:"标题",leftText:"返回",zIndex:1}}};var fe=n({name:"Index",components:{tzLeft:O,tzContent:pe,tzRight:N},setup(){const l=t(),n=x(),a=(t=>{const l=[],n=Object.keys(t).filter((e=>ve[e])),a=e=>{const t=e.props;let l={};if(!e.props)return[];for(const n of Object.keys(t))l[n]="function"==typeof t[n]?t[n]():t[n].default;return l};for(let o=0;o<n.length;o++){const r=n[o],s=t[r],i=ve[r]?ve[r]:{};l.push(e(e({component:s.name},i),{props:e(e({},a(s)),i.props?i.props:{}),style:e({},i.style?i.style:{}),animates:[]}))}return l})(n&&n.appContext.components),o=l.getters.getCanvas;return{config:a,open:()=>{const e=o.style.width,t=o.style.height,a=l.getters.getComponents;null==n||n.appContext.config.globalProperties.$alert(`<div class='box' style="width:${e};height:${t}"><iframe src='/#/iframe' class="iframe" ></iframe></div>`,{showConfirmButton:!1,showClose:!1,customClass:"iframeBox",closeOnClickModal:!0,dangerouslyUseHTMLString:!0,callback(){}});const r=document.querySelector(".iframe");r.onload=()=>{r.contentWindow&&r.contentWindow.postMessage(w(a),"*")}}}}});const ge=d("data-v-27bd9f80");a("data-v-27bd9f80");const he=b("预览");o();const be=ge(((e,t,l,n,a,o)=>{const u=m("tz-left"),p=m("tz-content"),d=m("tz-right"),c=m("el-button");return r(),s(i,null,[g(u,{"component-config":e.config},null,8,["component-config"]),g(p),g(d),g(c,{type:"primary",class:"view",onClick:e.open},{default:ge((()=>[he])),_:1},8,["onClick"])],64)}));fe.render=be,fe.__scopeId="data-v-27bd9f80";export default fe;
